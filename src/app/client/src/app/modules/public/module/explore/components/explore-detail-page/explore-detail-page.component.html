<div class="container mt-5 mb-30" [appTelemetryImpression]="telemetryImpression">
  <div class="card">
    <div class="card-header text-center text-light">
      <div class="row mt-15">
        <div class="col-md-1">
          <button type="button" class="btn text-secondary ml-4" id="style" (click)="navigateToDetailsPage()"><i
              class="fa fa-angle-left"></i></button>
        </div>
        <div class="col-sm-4">
          <div class="row">
            <div class="col">
              <h5 *ngIf="assetDetail?.name">{{assetDetail?.name}}</h5>
            </div>
          </div>


        </div>
        <div class="col-sm-7 pr-30">
          <p *ngIf="assetDetail?.gradeLevel" class="float-right">Sector :
            <span>
              <!-- <li *ngFor="let hero of assetDetail?.sector; let first = first;let last = last"> -->
              <li> {{ assetDetail?.gradeLevel }}
                <!-- <span *ngIf="!last && assetDetail?.sector.length!=1">,</span> -->
              </li>
            </span>
          </p>
        </div>
      </div>
    </div>
    <div class="card-body">
      <!-- <div>
                <button type="button" class="btn ml-4 text-secondary float-right" id="stylefav"><i
                        class="far fa-heart"></i></button>
            </div> -->
      <p *ngIf="assetDetail?.board" class="card-text">Asset Type : {{assetDetail?.board}}</p>
      <!-- <p class="card-text" *ngIf="assetDetail?.topic">Category : <span>
                    <li *ngFor="let hero of assetDetail?.topic; let first = first;let last = last">
                        {{ hero }}<span *ngIf="!last">,</span>
                    </li>
                </span></p> -->
      <p class="card-text" *ngIf="assetDetail?.keywords">Keywords : <span>
          <li *ngFor="let hero of assetDetail?.keywords;  let first = first;let last = last">
            {{ hero | titlecase}}<span *ngIf="!last && assetDetail?.keywords.length!=1">,</span>
          </li>
        </span>
      </p>
      <p class="card-text" *ngIf="assetDetail?.description">Description : {{assetDetail?.description | titlecase}}</p>
      <p class="card-text" *ngIf="assetDetail?.mimeType === 'text/x-url' &&  assetDetail?.link.slice(0,4) === 'http' ">
        Link:
        <a href="{{assetDetail?.link}}" target="_blank">{{assetDetail?.link}} </a>
      </p>
      <p class="card-text" *ngIf="assetDetail?.mimeType === 'text/x-url' && assetDetail?.link.slice(0,4) !== 'http' ">
        Link:
        <a href="http://{{assetDetail?.link}}" target="_blank">{{assetDetail?.link}} </a>
      </p>
      <p class="card-text" *ngIf="assetDetail?.creator && assetDetail?.creators">Submitted By : {{ assetDetail?.creator }}@{{ assetDetail?.creators }}</p>
      <p class="card-text" *ngIf="assetDetail?.lastSubmittedOn">Submitted Date :
        {{assetDetail?.lastSubmittedOn | dateFormat}}</p>
      <div *ngIf="assetDetail?.artifactUrl && assetDetail?.mimeType === 'application/pdf'">
        <p>
          File : <span (click)="navigateToView()" class="pdfStyle">{{contentuploaded}}</span>
        </p>

      </div>
      <div *ngIf="assetDetail?.artifactUrl && assetDetail?.mimeType === 'application/epub'">
        <p>
            File : <span (click)="navigateToView()" class="pdfStyle">{{contentuploaded}}</span>
            
        </p>
    </div>
<div *ngIf="assetDetail?.artifactUrl && assetDetail?.mimeType === 'video/x-youtube'">
        <p>
            Video : <span (click)="navigateToView()" class="pdfStyle">{{assetDetail?.artifactUrl}}</span>
            
        </p>
    </div> 
    <div *ngIf="assetDetail?.artifactUrl && assetDetail?.mimeType === 'video/mp4'">
        <p>
            Video : <span (click)="navigateToView()" class="pdfStyle">{{contentuploaded}}</span>
            
        </p>
    </div> 
    <div *ngIf="assetDetail?.artifactUrl && assetDetail?.mimeType === 'video/webm'">
        <p>
            Video : <span (click)="navigateToView()" class="pdfStyle">{{contentuploaded}}</span>
            
        </p>
    </div>
      <div *ngFor="let role of user">
        <div *ngIf="role === 'TEACHER_BADGE_ISSUER'">
          <p class="card-text" *ngIf="assetDetail?.status === 'Live'"> Assign Badges:
            <span *ngFor="let badge of badgeList">
              <span class="row">
                <span class="col">
                  <button apptelemetryinteract="" class="ui small basic primary compact button ml-10 mt-10"
                    (click)="deleteConfirmModal(badge.issuerId,badge.badgeId); $event.stopPropagation()">
                    <img src="{{badge.image}}" class="img"> {{badge.name}}</button>
                </span>
              </span>
            </span>
          </p>
        </div>
      </div>

      <ng-template let-context let-modal="modal" #modalTemplate>
        <div class="header"> Mark as 'VERIFIED ASSET'</div>
        <div class="content">
          <p>Are you sure you want to issue the badge to this content?</p>
        </div>
        <div class="actions">
          <button class="ui primary button" (click)="modal.approve('approved')" autofocus>Yes</button>
          <button class="ui red button" (click)="modal.deny('denied')">No</button>

        </div>
      </ng-template>

    </div>
    <div class="card-footer text-muted pt-30 pb-0">
      <p><span *ngIf="assetDetail?.version">Version : {{assetDetail?.version}}.0</span> <span
          *ngIf="assetDetail?.creators">| Created By :
          {{assetDetail?.creators}}</span>  <span *ngIf="assetDetail?.since"> | Created Year :
          {{assetDetail?.year}} </span> <span *ngIf="assetDetail?.region"> | Country : {{assetDetail?.region}}</span>
          <span *ngIf="assetDetail?.assetformat"> | Asset Format :
              {{assetDetail?.assetformat }}</span> <span *ngIf="assetDetail?.licensetype"> | License Type :
                      {{assetDetail?.licensetype }}</span>
      </p>
      <p class="float-right"></p>
    </div>
  </div>
</div>
